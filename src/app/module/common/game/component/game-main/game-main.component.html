<div>

    <div class="header-bar">
        <div>
            <img src="assets/logo.svg">
        </div>
        <div style="display: flex; gap: 20px; align-items: center;">
            <div (click)="openLogin();" style="cursor: pointer;">
                <svg xmlns="http://www.w3.org/2000/svg" width="27.137" height="35.618" viewBox="0 0 27.137 35.618">
                    <path id="login" data-name="패스 379"
                        d="M4,36.618a13.569,13.569,0,0,1,27.138,0ZM17.569,21.353A10.177,10.177,0,1,1,27.745,11.177,10.174,10.174,0,0,1,17.569,21.353Z"
                        transform="translate(-4 -1)" fill="#cecece" />
                </svg>
            </div>
            <div (click)="openMyPage()" style="cursor: pointer;">
                <svg xmlns="http://www.w3.org/2000/svg" width="42.224" height="28.22" viewBox="0 0 42.224 28.22">
                    <path id="my" data-name="패스 8173"
                        d="M-239.34,1168.29l-35.908-.118a3.121,3.121,0,0,0-3.133,3.111l-.071,21.858a3.12,3.12,0,0,0,3.111,3.132l35.909.118a3.122,3.122,0,0,0,3.133-3.111l.072-21.858A3.122,3.122,0,0,0-239.34,1168.29Zm-33.388,17.031,11.7-.013v.882l-11.7.012Zm0,4.174v-.881l23.4-.025v.881Zm23.231-6.159-.011-10.935,8.731-.01.012,10.935Z"
                        transform="translate(278.453 -1168.172)" fill="#cecece" />
                </svg>
            </div>
            <div style="cursor: pointer;">
                <svg xmlns="http://www.w3.org/2000/svg" width="35.618" height="35.618" viewBox="0 0 35.618 35.618">
                    <path id="print" data-name="패스 378"
                        d="M10.9,28.713H28.713v8.9H10.9Zm21.371,5.343v-8.9H7.343v8.9H3.781A1.782,1.782,0,0,1,2,32.275V14.466a1.782,1.782,0,0,1,1.781-1.781H35.837a1.782,1.782,0,0,1,1.781,1.781V32.275a1.782,1.782,0,0,1-1.781,1.781ZM7.343,16.247v3.562h5.343V16.247ZM10.9,2H28.713a1.782,1.782,0,0,1,1.781,1.781V9.124H9.124V3.781A1.782,1.782,0,0,1,10.9,2Z"
                        transform="translate(-2 -2)" fill="#cecece" />
                </svg>
            </div>
            <div style="cursor: pointer;" (click)="openSystemConfig()">
                <svg xmlns="http://www.w3.org/2000/svg" width="35.617" height="35.618" viewBox="0 0 35.617 35.618">
                    <g id="config" data-name="그룹 210" transform="translate(0)">
                        <path id="config" data-name="패스 250"
                            d="M757.742,981.847a3.113,3.113,0,0,0-3.086-3.086,3.086,3.086,0,0,0,0,6.171,3.113,3.113,0,0,0,3.086-3.085Z"
                            transform="translate(-736.849 -964.037)" fill="#cecece" fill-rule="evenodd" />
                        <path id="config" data-name="패스 251"
                            d="M739.41,980.615l4.279-.84a10.825,10.825,0,0,1,1.051-2.454l-2.524-3.646a.954.954,0,0,1,.141-1.123l3.014-3.085a.859.859,0,0,1,1.122-.07l3.646,2.455a16.749,16.749,0,0,1,2.594-1.053l.771-4.276a.987.987,0,0,1,.912-.7h4.277a.99.99,0,0,1,.912.7l.77,4.347a10.516,10.516,0,0,1,2.453.982l3.577-2.455a.953.953,0,0,1,1.122.14l3.086,3.085a.953.953,0,0,1,.139,1.122l-2.524,3.576a15.019,15.019,0,0,1,1.051,2.454l4.278.84a.834.834,0,0,1,.7.842V985.8a.831.831,0,0,1-.7.842l-4.278.842a15.049,15.049,0,0,1-1.051,2.454l2.454,3.574a.858.858,0,0,1-.141,1.122l-3.014,3.086a.852.852,0,0,1-1.122.071l-3.577-2.384a15.088,15.088,0,0,1-2.453.982l-.77,4.347a.988.988,0,0,1-.912.7h-4.348a.972.972,0,0,1-.841-.7l-.771-4.277a13.67,13.67,0,0,1-2.524-1.051l-3.647,2.453a.852.852,0,0,1-1.122-.069l-3.084-3.086a.943.943,0,0,1-.07-1.122l2.453-3.575a19.267,19.267,0,0,1-1.051-2.524l-4.279-.842a.894.894,0,0,1-.769-.842v-4.347a.9.9,0,0,1,.769-.842Zm17.039,10.448a7.432,7.432,0,1,0-7.43-7.432,7.435,7.435,0,0,0,7.43,7.432Z"
                            transform="translate(-738.641 -965.821)" fill="#cecece" fill-rule="evenodd" />
                    </g>
                </svg>
            </div>
        </div>
    </div>

    <div style="display: flex; gap: 5px; align-items: center; padding:0px 25px; max-width: 500px;">

        <div
            style="border: 1px solid #ccc; color:#fff; flex:0.3; height: 55px; text-align: center; font-size: 0.8rem; background: transparent linear-gradient(90deg, #0079C6 0%, #0C3F79 100%) 0% 0% no-repeat padding-box;">
            <div style="font-size: 2rem; font-weight: bold;">3</div>
            <div>LANE</div>
        </div>

        <div style=" height: 55px; padding:13px 15px; background-color: #fff; flex:2.3">
            <div
                style="display: flex; justify-content: space-between; font-size: 1.8rem; font-weight: bold; align-items: center;">
                <div>KSLS / 영점사격왕</div>
                <div style="width: 60px;"></div>
                <div style="text-align: right; padding-left: 15px; font-size: 1.8rem; color: #CECECE;"
                    (click)="openSystemConfig()" class="material-icons">settings</div>
            </div>
        </div>

    </div>

    <div style="display:flex; gap:10px; padding:0px 25px;">

        <div style="flex:2.5;">

            <div style="margin-top:5px; color:#fff; box-shadow: 3px 3px 6px #00000029;">
                <div
                    style="background: transparent linear-gradient(90deg, #0079C6 0%, #0C3F79 100%) 0% 0% no-repeat padding-box;  padding:10px 0px; text-align:center; font-size: 2.5rem; border-bottom:1px solid #ccc; height: 65px;">
                    {{sumScore}} ({{sumScore === 0 ? 0 :sumScore/shotingCount*bullet | number:'0.0-2'}}%)</div>
                <div [style.height.px]="rightinfoHeight"
                    style="background-color: #fff; width: 100%; padding: 40px 0px;">
                    <div #target [style.background-image]="'url(' + '/assets/shot-img.svg' + ')'"
                        style=" padding-top:75%; background-position: center; background-repeat: no-repeat; background-size: 100% 100%; position:relative">
                        <ng-container *ngFor="let item of shotRoundInfo;">
                            <div [style.left.px]="item.x" [style.top.px]="item.y"
                                style="position:absolute; top:50%; left:50%; transform: translate(-50%,-50%); border-radius: 100%;">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"
                                    fill="red">
                                    <path d="M0 0h24v24H0V0z" fill="none" />
                                    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                                </svg>
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>

        </div>

        <div style="flex:1;">
            <div
                style="margin: 0px 10px;margin-top:5px; padding:16px 0px; text-align:center; font-size: 2.2rem;  background: transparent linear-gradient(90deg, #0079C6 0%, #0C3F79 100%) 0% 0% no-repeat padding-box; color:#fff; height: 65px;">
                {{round}} 시리즈</div>
            <div
                style="display: flex; flex-direction: column; margin: 0px 10px; height: 100%; justify-content: space-between;">

                <div
                    style="padding:10px 0px; text-align: center; background-color: #fff; flex:0.5; box-shadow: 3px 3px 6px #00000029; position: relative;">
                    <div
                        style="font-size: 3.5rem; font-weight: 500; display: flex; align-items: center; justify-content: center;">
                        <span style="color: #e90000; margin-right: 10px;">{{shotCnt}}</span><span>/{{bullet}}</span>
                    </div>
                    <div
                        style=" margin:40px auto; background-color:#ccc; width:230px; height:230px; border-radius: 50%; position: relative;">
                        <div
                            style="position: absolute; top:50%; left: 50%; transform: translate(-50%,-50%); background-color: #fff; width: 195px; height: 195px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <div style="font-size: 3.5rem; font-weight: 500;">{{min > 9 ? min : '0'+min}} : {{sec > 9 ?
                                sec : '0'+sec}}</div>
                        </div>
                    </div>
                    <div *ngIf="delay"
                        style="position: absolute; bottom: 0px; left: 50%; transform: translateX(-50%); font-size: 35px; font-weight: bold; color:red;">
                        {{delayTime}}</div>
                </div>

                <div style="flex:0.5; padding-top:50px">
                    <div>
                        <div style="text-align: center;">
                            <img [style.pointerEvents]="activeTimer||delay ? 'none':'all'"
                                (click)="activeTimer=true; timer(); shotTimer(); clearScoreShoting(); shotRoundInfo = [];"
                                style="cursor: pointer; width: 120px; height: 120px;" src="assets/start_228.png" alt="">
                        </div>
                    </div>
                    <div style="margin-top:10px;">
                        <div style="display: flex; justify-content: center;">
                            <div style="text-align: center;">
                                <img (click)="stopTime(); activeStopTimer=true;"
                                    style="width: 90px; height: 90px; cursor: pointer;" src="assets/stop_232.png"
                                    alt="">
                                <div style="font-size: 1.3rem;">멈춤</div>
                            </div>
                            <div style="width: 20px;"></div>
                            <div style="text-align: center;">
                                <img (click)="resetTime(); shotRoundInfo=[];"
                                    style="cursor: pointer; width: 90px; height: 90px;" src="assets/reset_233.png"
                                    alt="">
                                <div style="font-size: 1.3rem;">정지</div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div #rightInfo style="flex:1.8; ">
            <div style="margin-top:5px;">
                <div
                    style="padding:16px 0px; text-align:center; font-size: 2.2rem; height: 65px; background: transparent linear-gradient(90deg, #0079C6 0%, #0C3F79 100%) 0% 0% no-repeat padding-box; color:#fff">
                    시리즈 정보</div>
                <div [style.height.px]="rightinfoHeight"
                    style="background-color: #fff; position: relative; padding:0px 10px; box-shadow: 3px 3px 6px #00000029;">
                    <div style="padding:25px 15px;">
                        <div class="round-title">
                            <div style="flex:0.2;"></div>
                            <div class="item round">시리즈</div>
                            <div class="item hit">격발(수)</div>
                            <div class="item">경과시간</div>
                            <div class="item">점수</div>
                        </div>
                        <ng-container *ngFor="let item of shotTotalInfo; let i = index;">
                            <div class="round-value" (click)="selectShotTotalInfo = selectShotTotalInfo === i ? '' : i">
                                <div class="item" style="flex:0.2; background-color: #B5DAE5; position: relative;">
                                    <span class="material-icons"
                                        style="position: absolute; top:50%;left: 50%; transform: translate(-50%,-50%); font-size: 35px; color:black;">arrow_right</span>
                                </div>
                                <div class="item round">
                                    <span>{{item.round}}</span>
                                </div>
                                <div class="item hit">
                                    <span>{{item.shotCnt}}</span>
                                </div>
                                <div class="item time">
                                    <span>00 : 0{{item.shotTime/60 | number : '0.0-0'}} : {{item.shotTime%60 >= 10 ?
                                        item.shotTime%60 : '0'+item.shotTime%60}}</span>
                                </div>
                                <div class="item score">
                                    <span>{{item.score}}</span>
                                </div>
                            </div>
                            <ng-container *ngFor="let detail of item.roundInfo;">
                                <ng-container *ngIf="selectShotTotalInfo === i">
                                    <div class="round-value">
                                        <div class="item"
                                            style="flex:0.2; border:none;margin-right: 1px; position: relative; "></div>
                                        <div class="item round">
                                            <span>{{item.round}}</span>
                                        </div>
                                        <div class="item hit">
                                            <span>{{detail.shotingCount}}</span>
                                        </div>
                                        <div class="item time">
                                            <span>00 : 0{{detail.time/60 | number : '0.0-0'}} : {{detail.time%60 >= 10 ?
                                                detail.time%60 : '0'+detail.time%60}}</span>
                                        </div>
                                        <div class="item score">
                                            <span>{{detail.score}}</span>
                                        </div>
                                    </div>
                                </ng-container>
                            </ng-container>
                        </ng-container>
                        <ng-container *ngIf="showRoundInfo">
                            <div class="round-value">
                                <div class="item" style="flex:0.2; background-color: #B5DAE5; position: relative;">
                                    <span class="material-icons"
                                        style="position: absolute; top:50%;left: 50%; transform: translate(-50%,-50%); font-size: 35px; color:black">arrow_right</span>
                                </div>
                                <div class="item round">
                                    <span>{{round}}</span>
                                </div>
                                <div class="item hit">
                                    <span>{{showRoundInfo.shotingCount}}</span>
                                </div>
                                <div class="item time">
                                    <span>00 : 0{{showRoundInfo.time/60 | number : '0.0-0'}} : {{showRoundInfo.time%60
                                        >= 10 ? showRoundInfo.time%60 : '0'+showRoundInfo.time%60 }}</span>
                                </div>
                                <div class="item score">
                                    <span>{{showRoundInfo.sumScore}}</span>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <div
                        style="display: flex; position:absolute; bottom: 10px; right:20px; align-items: center; gap:10px;">
                        <div style="font-size: 1.7rem;">
                            <span style="margin-right: 20px;">HIT</span>
                            <span>/</span>
                            <span style="margin:0px 20px;">TOTAL</span>
                        </div>
                        <div style="font-size: 2.2rem; padding: 5px 20px; background-color: #BEF1FF; ">
                            <span style="margin-right: 20px; vertical-align: baseline;">*{{hitCount}}</span>
                            <span style="vertical-align: baseline;">/</span>
                            <span style="margin-left: 20px; vertical-align: baseline;">{{totalScore}}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div style="text-align: right; padding:20px 25px; font-size: 1rem; font-weight: 400;">
        {{today | date:'yyyy년 MM월 dd일 HH:mm:ss'}}
    </div>
</div>

<!-- <app-team-notice [notice]="'곧 예선이 시작합니다. 잠시만 기다려 주세요'"></app-team-notice> -->
<app-ranking-notice></app-ranking-notice>